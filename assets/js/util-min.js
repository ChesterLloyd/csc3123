function mktoggle(a,t){return'<i class="'+a+" fas fa-toggle-"+(t?"on":"off")+'"></i>'}function tick(a){return mktoggle("",a)}function toggle(a){a.toggleClass("fa-toggle-off").toggleClass("fa-toggle-on")}function dotoggle(a,t,e,o){if(a.preventDefault(),a.stopPropagation(),!t.hasClass("fadis"))if(t.hasClass("htick")){// this is not yet created so tick the hidden box
var n=t.next();n.val(1==n.val()?0:1),toggle(t)}else{// toggle at the other end
var l=t.parent().parent();$.ajax(base+"/ajax/toggle/"+e+"/"+l.data("id")+"//"+o,{method:"PATCH"}).done(function(){toggle(t)}).fail(function(a){bootbox.alert("<h3>Toggle failed</h3>"+a.responseText)})}}function dodelbean(a,e,o){a.preventDefault(),a.stopPropagation(),bootbox.confirm("Are you sure you you want to delete this "+o+"?",function(a){if(a){// user picked OK
var t=$(e).parent().parent();$.ajax(base+"/ajax/bean/"+o+"/"+t.data("id")+"/",{method:"DELETE"}).done(function(){t.css("background-color","yellow").fadeOut(1500,function(){t.remove()})}).fail(function(a){bootbox.alert("<h3>Delete failed</h3>"+a.responseText)})}})}function tableClick(a){a.preventDefault();var t=$(a.target);for(var e in a.data.clicks)t.hasClass(a.data.clicks[e][0])&&clicks[e][1](a,t,a.data.bean,a.data.clicks[e][2])}