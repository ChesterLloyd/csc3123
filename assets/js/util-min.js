function mktoggle(a,e){return'<i class="'+a+" fas fa-toggle-"+(e?"on":"off")+'"></i>'}function tick(a){return mktoggle("",a)}function toggle(a){a.toggleClass("fa-toggle-off").toggleClass("fa-toggle-on")}function dotoggle(a,e,t,o){if(a.preventDefault(),a.stopPropagation(),!e.hasClass("fadis"))if(e.hasClass("htick")){// this is not yet created so tick the hidden box
var n=e.next();n.val(1==n.val()?0:1),toggle(e)}else{// toggle at the other end
var i=e.parent().parent();$.ajax(base+"/ajax/toggle/"+t+"/"+i.data("id")+"//"+o,{method:"PATCH"}).done(function(){toggle(e)}).fail(function(a){bootbox.alert("<h3>Toggle failed</h3>"+a.responseText)})}}function dodelbean(a,t,o){a.preventDefault(),a.stopPropagation(),bootbox.confirm("Are you sure you you want to delete this "+o+"?",function(a){if(a){// user picked OK
var e=$(t).parent().parent();$.ajax(base+"/ajax/bean/"+o+"/"+e.data("id")+"/",{method:"DELETE"}).done(function(){e.css("background-color","yellow").fadeOut(1500,function(){e.remove()})}).fail(function(a){bootbox.alert("<h3>Delete failed</h3>"+a.responseText)})}})}function tableClick(e){e.preventDefault();var t=$(e.target);e.data.clicks.forEach(function(a){t.hasClass(a[0])&&a[1](e,t,e.data.bean,a[2])})}function goedit(a,e,t){window.location.href=base+"/admin/edit/"+t+"/"+e.parent().parent().data("id")+"/"}function goview(a,e,t){window.location.href=base+"/admin/view/"+t+"/"+e.parent().parent().data("id")+"/"}function beanCreate(e,a,t){$.post(base+"/ajax/bean/"+e+"/",data).done(a).fail(function(a){bootbox.alert("<h3>Failed to create new "+e+" failed<h3>"+a.responseText)}).always(function(a){$(t).attr("disabled",!1)})}