function mktoggle(o,e){return'<i class="'+o+" fas fa-toggle-"+(e?"on":"off")+'"></i>'}function tick(o){return mktoggle("",o)}function toggle(o){o.toggleClass("fa-toggle-off").toggleClass("fa-toggle-on")}function dotoggle(o,e,t,a){if(o.preventDefault(),o.stopPropagation(),!e.hasClass("fadis"))if(e.hasClass("htick")){// this is not yet created so tick the hidden box
var n=e.next();n.val(1==n.val()?0:1),toggle(e)}else{// toggle at the other end
var l=e.parent().parent();$.ajax(base+"/ajax/toggle/"+t+"/"+l.data("id")+"//"+a,{method:"PATCH"}).done(function(){toggle(e)}).fail(function(o){bootbox.alert("<h3>Toggle failed</h3>"+o.responseText)})}}function dodelbean(o,t,a){o.preventDefault(),o.stopPropagation(),bootbox.confirm("Are you sure you you want to delete this "+a+"?",function(o){if(o){// user picked OK
var e=$(t).parent().parent();$.ajax(base+"/ajax/bean/"+a+"/"+e.data("id")+"/",{method:"DELETE"}).done(function(){e.css("background-color","yellow").fadeOut(1500,function(){e.remove()})}).fail(function(o){bootbox.alert("<h3>Delete failed</h3>"+o.responseText)})}})}