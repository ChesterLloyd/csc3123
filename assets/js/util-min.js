function mktoggle(t,a){return'<i class="'+t+" fas fa-toggle-"+(a?"on":"off")+'"></i>'}function tick(t){return mktoggle("",t)}function toggle(t){t.toggleClass("fa-toggle-off").toggleClass("fa-toggle-on")}function dotoggle(t,a,e,o){if(t.preventDefault(),t.stopPropagation(),!a.hasClass("fadis"))if(a.hasClass("htick")){// this is not yet created so tick the hidden box
var n=a.next();n.val(1==n.val()?0:1),toggle(a)}else{// toggle at the other end
var l=a.parent().parent();$.ajax(base+"/ajax/toggle/"+e+"/"+l.data("id")+"//"+o,{method:"PATCH"}).done(function(){toggle(a)}).fail(function(t){bootbox.alert("<h3>Toggle failed</h3>"+t.responseText)})}}function dodelbean(t,e,o){t.preventDefault(),t.stopPropagation(),bootbox.confirm("Are you sure you you want to delete this "+o+"?",function(t){if(t){// user picked OK
var a=$(e).parent().parent();$.ajax(base+"/ajax/bean/"+o+"/"+a.data("id")+"/",{method:"DELETE"}).done(function(){a.css("background-color","yellow").fadeOut(1500,function(){a.remove()})}).fail(function(t){bootbox.alert("<h3>Delete failed</h3>"+t.responseText)})}})}function tableClick(a){a.preventDefault();var e=$(a.target);a.data.clicks.forEach(function(t){e.hasClass(t[0])&&t[1](a,e,a.data.bean,t[2])})}function goedit(t,a,e){window.location.href=base+"/admin/edit/"+e+"/"+a.parent().parent().data("id")+"/"}